<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مشاريعنا | True Draft</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: { colors: { dark: '#050505' }, fontFamily: { sans: ['Cairo', 'sans-serif'], english: ['Manrope', 'sans-serif'] } }
            }
        }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@200;300;400;500;700;900&family=Manrope:wght@200;300;400;500;700;800&display=swap" rel="stylesheet">
    <style>body { font-family: 'Cairo', sans-serif; } .grayscale-img { filter: grayscale(100%); transition: filter 0.5s ease; } .group:hover .grayscale-img { filter: grayscale(0%); } .animate-fade-in { animation: fadeIn 0.5s ease-in-out; } @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } } #gallery-thumbs img.active { border: 2px solid white; opacity: 1; }</style>
</head>
<body class="bg-white text-black antialiased flex flex-col min-h-screen">

    <nav class="fixed top-0 w-full z-[999] bg-white/95 backdrop-blur-md border-b border-gray-100 py-4 shadow-sm transition-all duration-300">
        <div class="container mx-auto px-6 md:px-12 flex justify-between items-center">
            <a href="index.html" class="z-50 block"><img src="images/logo.png" alt="True Draft" class="h-10 md:h-12 w-auto object-contain"></a>
            
            <div class="hidden md:flex items-center gap-8">
                <a href="index.html" class="text-sm font-bold uppercase hover:text-[#C69C6D] transition-colors" data-i18n="home">الرئيسية</a>
                <a href="index.html#about" class="text-sm font-bold uppercase hover:text-[#C69C6D] transition-colors" data-i18n="about">عن ترو درفت</a>
                <a href="projects.html" class="text-sm font-bold uppercase hover:text-[#C69C6D] transition-colors" data-i18n="projects">مشاريعنا</a>
                <a href="blog.html" class="text-sm font-bold uppercase hover:text-[#C69C6D] transition-colors" data-i18n="blog">المدونة</a>
                <button onclick="openModal('careers-modal')" class="text-sm font-bold uppercase hover:text-[#C69C6D] transition-colors" data-i18n="careers">التوظيف</button>
                <button onclick="openModal('contact-modal')" class="text-sm font-bold uppercase hover:text-[#C69C6D] transition-colors" data-i18n="contact">تواصل معنا</button>
                <button onclick="toggleLanguage()" class="flex items-center gap-2 text-xs font-bold border-l rtl:border-l-0 rtl:border-r border-gray-300 px-4 h-5 hover:opacity-70">
                    <span class="font-english text-base" id="lang-btn-text">EN</span>
                </button>
            </div>
    
            <button onclick="toggleMenu()" class="md:hidden p-2.5 rounded-md border border-gray-200 hover:bg-gray-50 transition-all">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
            </button>
        </div>
    
        <div id="mobile-menu" class="fixed inset-0 bg-white z-[5000] hidden flex-col justify-center items-center gap-8 text-center animate-fade-in w-full h-screen overflow-hidden">
            <button onclick="toggleMenu()" class="absolute top-6 right-6 p-2 rounded-full border hover:bg-gray-100 rtl:right-auto rtl:left-6 ltr:left-auto ltr:right-6">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
            </button>
            
            <a href="index.html" onclick="toggleMenu()" class="text-2xl font-bold text-black hover:text-[#C69C6D] transition-colors" data-i18n="home">الرئيسية</a>
            <a href="index.html#about" onclick="toggleMenu()" class="text-2xl font-bold text-black hover:text-[#C69C6D] transition-colors" data-i18n="about">عن ترو درفت</a>
            <a href="projects.html" onclick="toggleMenu()" class="text-2xl font-bold text-black hover:text-[#C69C6D] transition-colors" data-i18n="projects">مشاريعنا</a>
            <a href="blog.html" onclick="toggleMenu()" class="text-2xl font-bold text-black hover:text-[#C69C6D] transition-colors" data-i18n="blog">المدونة</a>
            <button onclick="toggleMenu(); openModal('careers-modal')" class="text-2xl font-bold text-black hover:text-[#C69C6D] transition-colors" data-i18n="careers">التوظيف</button>
            <button onclick="toggleMenu(); openModal('contact-modal')" class="text-2xl font-bold text-black hover:text-[#C69C6D] transition-colors" data-i18n="contact">تواصل معنا</button>
            
            <button onclick="toggleMenu(); toggleLanguage()" class="text-xl font-english mt-8 font-bold border-2 border-black text-black px-8 py-3 rounded-full hover:bg-black hover:text-white transition-all">
                EN / AR
            </button>
        </div>
    </nav>
    <main class="flex-grow pt-[100px] px-6 pb-20">
        <div class="container mx-auto">
            <h1 class="text-4xl font-bold mb-12 border-b pb-6" data-i18n="projects_title">مشاريعنا</h1>
            <div id="projects-grid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8"></div>
        </div>
    </main>

    <div class="fixed bottom-8 right-8 rtl:right-8 rtl:left-auto ltr:left-8 ltr:right-auto z-[3000]">
        <a href="https://wa.me/966582226234" target="_blank" class="flex items-center justify-center w-16 h-16 bg-[#25D366] rounded-full shadow-2xl hover:scale-110 transition-transform duration-300 group">
            <svg class="w-8 h-8 text-white fill-current group-hover:animate-pulse" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/></svg>
        </a>
    </div>

    <footer class="bg-black text-white py-16">
        <div class="container mx-auto px-6 text-center">
            <h2 class="text-3xl md:text-4xl font-bold mb-12 text-white" data-i18n="contact_header">تواصل معنا</h2>
            
            <div class="flex flex-col md:flex-row justify-center gap-12 md:gap-32 mb-12">
                <div class="flex flex-col items-center">
                    <span class="text-gray-400 text-xs mb-2 font-bold uppercase tracking-widest" data-i18n="email_label">البريد الإلكتروني</span>
                    <a href="mailto:info@truedraft.com.sa" class="text-xl md:text-2xl font-english font-light hover:text-gray-300 transition-colors">info@truedraft.com.sa</a>
                </div>
                <div class="flex flex-col items-center">
                    <span class="text-gray-400 text-xs mb-2 font-bold uppercase tracking-widest" data-i18n="phone_label">اتصل بنا</span>
                    <a href="tel:0582226234" class="text-xl md:text-2xl font-english font-light hover:text-gray-300 transition-colors" dir="ltr">058 222 6234</a>
                </div>
            </div>

            <div class="flex justify-center gap-8 mb-16">
                <a href="https://tiktok.com/@truedraft_sa" target="_blank" class="text-white hover:text-gray-400 transition-colors transform hover:scale-110"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.63 2.58-4.9 2.09-1.81 5.13-2.01 7.41-.47.23.15.42.34.61.53v4.43c-.87-.91-2.17-1.35-3.41-1.15-1.11.16-2.04.91-2.48 1.92-.76 1.76-.08 3.97 1.63 5.09.84.56 1.86.76 2.84.62 1.39-.17 2.63-1.04 3.23-2.29.35-.72.49-1.52.48-2.32v-17.2h-1.9z"/></svg></a>
                <a href="https://instagram.com/truedraft_sa" target="_blank" class="text-white hover:text-gray-400 transition-colors transform hover:scale-110"><svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg></a>
                <a href="https://linkedin.com/company/truedraft_sa" target="_blank" class="text-white hover:text-gray-400 transition-colors transform hover:scale-110"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg></a>
                <a href="https://x.com/truedraft_sa" target="_blank" class="text-white hover:text-gray-400 transition-colors transform hover:scale-110"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a>
            </div>

            <div class="border-t border-gray-900 pt-8 flex flex-col md:flex-row justify-between items-center gap-4">
                <p class="text-gray-600 text-xs font-bold" data-i18n="rights">جميع الحقوق محفوظة لشركة True Draft © 2025</p>
                <div class="flex gap-6">
                    <button onclick="openModal('privacy-modal')" class="text-gray-500 text-xs hover:text-white transition-colors" data-i18n="privacy">سياسة الخصوصية</button>
                    <button onclick="openModal('terms-modal')" class="text-gray-500 text-xs hover:text-white transition-colors" data-i18n="terms">الشروط والأحكام</button>
                </div>
            </div>
        </div>
    </footer>

    <div id="careers-modal" class="hidden fixed inset-0 z-[5000] bg-black/80 backdrop-blur-sm overflow-y-auto animate-fade-in">
        <div class="min-h-screen flex items-center justify-center p-6">
            <div class="w-full max-w-2xl bg-white border border-gray-200 shadow-2xl relative p-8 md:p-12 rounded-xl">
                <button onclick="closeModal('careers-modal')" class="absolute top-6 left-6 rtl:left-6 rtl:right-auto p-2 border rounded-full hover:bg-black hover:text-white transition-colors ltr:left-auto ltr:right-6">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
                <h2 class="text-3xl font-bold mb-2 text-center" data-i18n="careers_title">انضم إلى فريقنا</h2>
                <p class="text-center text-gray-500 mb-8 text-sm" data-i18n="careers_subtitle">املأ النموذج أدناه وسيتم إرسال طلبك مباشرة إلى فريق الموارد البشرية.</p>
                <form onsubmit="submitCareerForm(event)" class="space-y-5">
                    <div>
                        <label class="block text-xs font-bold uppercase mb-2 tracking-wider" data-i18n="form_name">الاسم الكامل</label>
                        <input type="text" id="career-name" required class="w-full p-3 bg-gray-50 border border-gray-200 focus:border-black outline-none rounded-md">
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-xs font-bold uppercase mb-2 tracking-wider" data-i18n="form_phone">رقم الجوال</label>
                            <input type="tel" id="career-phone" required class="w-full p-3 bg-gray-50 border border-gray-200 focus:border-black outline-none rounded-md" dir="ltr">
                        </div>
                        <div>
                            <label class="block text-xs font-bold uppercase mb-2 tracking-wider" data-i18n="form_email">البريد الإلكتروني</label>
                            <input type="email" id="career-email" required class="w-full p-3 bg-gray-50 border border-gray-200 focus:border-black outline-none rounded-md" dir="ltr">
                        </div>
                    </div>
                    <div>
                        <label class="block text-xs font-bold uppercase mb-2 tracking-wider" data-i18n="form_position">المسمى الوظيفي</label>
                        <select id="career-position" required class="w-full p-3 bg-gray-50 border border-gray-200 focus:border-black outline-none rounded-md">
                            <option value="" disabled selected data-i18n="select_position">اختر التخصص...</option>
                            <option value="Architect">مهندس معماري (Architect)</option>
                            <option value="Interior Designer">مصمم داخلي (Interior Designer)</option>
                            <option value="Civil Engineer">مهندس مدني (Civil Engineer)</option>
                            <option value="Project Manager">مدير مشاريع (Project Manager)</option>
                            <option value="Site Engineer">مهندس موقع (Site Engineer)</option>
                            <option value="Administrative">إداري / سكرتارية (Admin)</option>
                        </select>
                    </div>
                    <button type="submit" class="w-full bg-black text-white font-bold py-4 hover:opacity-80 transition-opacity uppercase tracking-widest mt-4 rounded-md" data-i18n="form_send_app">إرسال الطلب</button>
                </form>
            </div>
        </div>
    </div>

    <div id="contact-modal" class="hidden fixed inset-0 z-[5000] bg-black/80 backdrop-blur-sm overflow-y-auto animate-fade-in">
        <div class="min-h-screen flex items-center justify-center p-6">
            <div class="w-full max-w-4xl bg-white border border-gray-200 shadow-2xl relative p-10 md:p-16 rounded-xl">
                <button onclick="closeModal('contact-modal')" class="absolute top-6 left-6 rtl:left-6 rtl:right-auto p-2 border rounded-full hover:bg-black hover:text-white transition-colors ltr:left-auto ltr:right-6">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
                <div class="grid md:grid-cols-2 gap-12">
                    <div class="flex flex-col justify-center bg-black text-white p-8 rounded-xl">
                        <h2 class="text-3xl font-bold mb-8" data-i18n="contact_header">تواصل معنا</h2>
                        <div class="space-y-6">
                            <div><h4 class="text-xs uppercase tracking-widest opacity-70 mb-1" data-i18n="phone_label">الهاتف</h4><a href="tel:0582226234" class="text-xl font-english font-light hover:underline" dir="ltr">058 222 6234</a></div>
                            <div><h4 class="text-xs uppercase tracking-widest opacity-70 mb-1" data-i18n="email_label">البريد الإلكتروني</h4><a href="mailto:info@truedraft.com.sa" class="text-lg font-english font-light hover:underline">info@truedraft.com.sa</a></div>
                            <div><h4 class="text-xs uppercase tracking-widest opacity-70 mb-1" data-i18n="location_label">الموقع</h4><p class="text-lg font-light" data-i18n="location_val">الرياض، المملكة العربية السعودية</p></div>
                        </div>
                    </div>
                    <div>
                        <form onsubmit="submitContactForm(event)" class="space-y-6">
                            <div><label class="block text-sm font-bold mb-2 uppercase" data-i18n="form_name">الاسم</label><input type="text" id="contact-name" class="w-full p-4 bg-gray-50 border-b-2 border-transparent focus:border-black outline-none rounded-sm"></div>
                            <div><label class="block text-sm font-bold mb-2 uppercase" data-i18n="form_email">البريد الإلكتروني</label><input type="email" id="contact-email" class="w-full p-4 bg-gray-50 border-b-2 border-transparent focus:border-black outline-none rounded-sm"></div>
                            <div><label class="block text-sm font-bold mb-2 uppercase" data-i18n="form_message">الرسالة</label><textarea id="contact-message" class="w-full p-4 bg-gray-50 border-b-2 border-transparent focus:border-black outline-none h-32 rounded-sm"></textarea></div>
                            <button type="submit" class="w-full bg-black text-white font-bold py-4 hover:opacity-80 transition-opacity uppercase tracking-widest rounded-md" data-i18n="form_send">إرسال</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="privacy-modal" class="hidden fixed inset-0 z-[5000] bg-black/80 backdrop-blur-sm overflow-y-auto animate-fade-in">
        <div class="min-h-screen flex items-center justify-center p-6">
            <div class="w-full max-w-3xl bg-white border border-gray-200 shadow-2xl relative p-10 md:p-16 rounded-xl">
                <button onclick="closeModal('privacy-modal')" class="absolute top-6 left-6 rtl:left-6 rtl:right-auto p-2 border rounded-full hover:bg-black hover:text-white transition-colors ltr:left-auto ltr:right-6">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
                <h2 class="text-3xl font-bold mb-8" data-i18n="privacy">سياسة الخصوصية</h2>
                <div class="prose max-w-none text-sm leading-relaxed text-gray-600 space-y-6">
                    <p class="font-bold" data-i18n="privacy_intro">مقدمة:</p>
                    <p data-i18n="privacy_text_1">في شركة ترو درفت (True Draft)...</p>
                </div>
            </div>
        </div>
    </div>

    <div id="terms-modal" class="hidden fixed inset-0 z-[5000] bg-black/80 backdrop-blur-sm overflow-y-auto animate-fade-in">
        <div class="min-h-screen flex items-center justify-center p-6">
            <div class="w-full max-w-3xl bg-white border border-gray-200 shadow-2xl relative p-10 md:p-16 rounded-xl">
                <button onclick="closeModal('terms-modal')" class="absolute top-6 left-6 rtl:left-6 rtl:right-auto p-2 border rounded-full hover:bg-black hover:text-white transition-colors ltr:left-auto ltr:right-6">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
                <h2 class="text-3xl font-bold mb-8" data-i18n="terms">الشروط والأحكام</h2>
                <div class="prose max-w-none text-sm leading-relaxed text-gray-600 space-y-6">
                    <p class="font-bold" data-i18n="terms_intro">مقدمة:</p>
                    <p data-i18n="terms_text_1">...</p>
                </div>
            </div>
        </div>
    </div>
    <div id="project-detail-view" class="hidden fixed inset-0 z-[2050] bg-black/90 backdrop-blur-md animate-fade-in md:flex md:items-center md:justify-center md:p-4">
        <div class="w-full h-full bg-white flex flex-col md:flex-row shadow-2xl overflow-hidden md:max-w-7xl md:h-auto md:max-h-[90vh] md:rounded-xl">
            <button onclick="closeProjectDetail()" class="absolute top-4 left-4 z-50 bg-white/90 rounded-full p-2 hover:scale-110 transition shadow-lg rtl:left-4 rtl:right-auto ltr:right-4 ltr:left-auto"><svg width="24" height="24" fill="none" stroke="black" stroke-width="2" viewBox="0 0 24 24"><path d="M6 18L18 6M6 6l12 12"/></svg></button>
            <div class="w-full md:w-[60%] h-1/2 md:h-auto md:aspect-[4/3] bg-black relative flex flex-col">
                <div id="gallery-container" class="w-full flex-1 relative group">
                    <div id="gallery-image-wrapper" class="absolute inset-0"></div>
                    <button onclick="prevGallery()" class="absolute left-4 top-1/2 -translate-y-1/2 bg-black/30 backdrop-blur text-white p-3 rounded-full hover:bg-white hover:text-black transition rtl:right-4 rtl:left-auto ltr:left-4 ltr:right-auto opacity-0 group-hover:opacity-100"><svg class="w-6 h-6 rtl:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg></button>
                    <button onclick="nextGallery()" class="absolute right-4 top-1/2 -translate-y-1/2 bg-black/30 backdrop-blur text-white p-3 rounded-full hover:bg-white hover:text-black transition rtl:left-4 rtl:right-auto ltr:right-4 ltr:left-auto opacity-0 group-hover:opacity-100"><svg class="w-6 h-6 rtl:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg></button>
                </div>
                 <div id="gallery-thumbs" class="w-full h-24 bg-black/50 p-2 flex items-center justify-center gap-2"></div>
            </div>
            <div class="w-full md:w-[40%] p-8 md:p-12 overflow-y-auto bg-white flex flex-col justify-center">
                <span id="detail-cat" class="text-xs font-bold text-[#C69C6D] uppercase tracking-widest mb-4 block"></span>
                <h2 id="detail-title" class="text-3xl md:text-4xl font-bold mb-6 leading-tight"></h2>
                <div id="detail-desc" class="text-gray-600 leading-loose text-sm font-light mb-8"></div>
                <div id="detail-facts" class="border-t pt-8 mt-8 grid grid-cols-2 gap-x-8 gap-y-8"></div>
            </div>
        </div>
    </div>

    <script>
        const projects = [
            { 
                id: 1, 
                title_key: 'p1_title', category_key: 'p1_category', location_key: 'p1_location', desc_key: 'p1_desc', details_key: 'p1_details',
                cover: 'images/project1-cover.jpg',
                images: ['images/project1-1.jpg', 'images/project1-2.jpg', 'images/project1-3.jpg'] 
            },
            { 
                id: 2, 
                title_key: 'p2_title', category_key: 'p2_category', location_key: 'p2_location', desc_key: 'p2_desc', details_key: 'p2_details',
                cover: 'images/project2-cover.jpg',
                images: ['images/project2-1.jpg', 'images/project2-2.jpg', 'images/project2-3.jpg'] 
            },
            { 
                id: 3, 
                title_key: 'p3_title', category_key: 'p3_category', location_key: 'p3_location', desc_key: 'p3_desc', details_key: 'p3_details',
                cover: 'images/project3-cover.jpg',
                images: ['images/project3-1.jpg', 'images/project3-2.jpg', 'images/project3-3.jpg'] 
            }
        ];

        let currentLang = localStorage.getItem('lang') || 'ar';
        let activeProject = null;
        let galleryIndex = 0;

        const translations = {
            ar: {
                home: 'الرئيسية', about: 'عن ترو درفت', projects: 'مشاريعنا', projects_title: 'مشاريعنا', blog: 'المدونة', contact: 'تواصل معنا', careers: 'التوظيف',
                contact_header: 'تواصل معنا', email_label: 'البريد الإلكتروني', phone_label: 'اتصل بنا', location_label: 'الموقع', location_val: 'الرياض، المملكة العربية السعودية', 
                rights: 'جميع الحقوق محفوظة لشركة True Draft © 2025', privacy: 'سياسة الخصوصية', terms: 'الشروط والأحكام',
                careers_title: 'انضم إلى فريقنا', careers_subtitle: 'املأ النموذج أدناه وسيتم إرسال طلبك مباشرة.',
                form_name: 'الاسم', form_phone: 'رقم الجوال', form_email: 'البريد الإلكتروني', form_position: 'المسمى الوظيفي', form_message: 'الرسالة', form_send: 'إرسال', form_send_app: 'إرسال الطلب', select_position: 'اختر التخصص...',
                privacy_intro: 'مقدمة:', privacy_text_1: '...', terms_intro: 'مقدمة:', terms_text_1: '...',
                p1_title: 'مشروع مسكه ليفلز', p1_category: 'سكني / تجاري', p1_location: 'الرياض', p1_desc: 'مشروع مسكه ليفلز يتميز بتصميمه العصري الذي يدمج بين الفخامة والعملية، موفراً بيئة سكنية وتجارية متكاملة.', p1_details: [ { label: 'العميل', value: 'شركة مسكه' }, { label: 'نطاق العمل', value: 'تصميم وتنفيذ' }, { label: 'الحالة', value: 'مكتمل' }, { label: 'السنة', value: '2024' } ],
                p2_title: 'فيلا خاصة', p2_category: 'سكني', p2_location: 'الرياض', p2_desc: 'فيلا خاصة صممت لتوفير أقصى درجات الراحة والخصوصية، مع اهتمام دقيق بالتفاصيل الداخلية والخارجية.', p2_details: [ { label: 'العميل', value: 'خاص' }, { label: 'نطاق العمل', value: 'تصميم داخلي' }, { label: 'الحالة', value: 'مكتمل' }, { label: 'السنة', value: '2023' } ],
                p3_title: 'مقهى جيره', p3_category: 'تجاري', p3_location: 'الرياض', p3_desc: 'مقهى جيره يقدم تجربة ضيافة فريدة في أجواء مستوحاة من التراث بلمسة حديثة.', p3_details: [ { label: 'العميل', value: 'جيره كافيه' }, { label: 'نطاق العمل', value: 'تصميم وتنفيذ' }, { label: 'الحالة', value: 'مكتمل' }, { label: 'السنة', value: '2023' } ]
            },
            en: {
                home: 'Home', about: 'About Us', projects: 'Projects', projects_title: 'Our Projects', blog: 'Blog', contact: 'Contact', careers: 'Careers',
                contact_header: 'Get in Touch', email_label: 'Email', phone_label: 'Call Us', location_label: 'Location', location_val: 'Riyadh, Saudi Arabia', 
                rights: 'All rights reserved True Draft © 2025', privacy: 'Privacy Policy', terms: 'Terms & Conditions',
                careers_title: 'Join Our Team', careers_subtitle: 'Fill the form below to send your application.',
                form_name: 'Name', form_phone: 'Mobile', form_email: 'Email', form_position: 'Position', form_message: 'Message', form_send: 'Send', form_send_app: 'Submit Application', select_position: 'Select Position...',
                privacy_intro: 'Introduction:', privacy_text_1: '...', terms_intro: 'Introduction:', terms_text_1: '...',
                p1_title: 'Masqh Levels Project', p1_category: 'Residential / Commercial', p1_location: 'Riyadh', p1_desc: 'The Masqh Levels project features a modern design that combines luxury and functionality, providing an integrated residential and commercial environment.', p1_details: [ { label: 'Client', value: 'Masqh Co.' }, { label: 'Scope', value: 'Design & Build' }, { label: 'Status', value: 'Completed' }, { label: 'Year', value: '2024' } ],
                p2_title: 'Private Villa', p2_category: 'Residential', p2_location: 'Riyadh', p2_desc: 'A private villa designed to provide maximum comfort and privacy, with meticulous attention to interior and exterior details.', p2_details: [ { label: 'Client', value: 'Private' }, { label: 'Scope', value: 'Interior Design' }, { label: 'Status', value: 'Completed' }, { label: 'Year', value: '2023' } ],
                p3_title: 'Jirah Cafe', p3_category: 'Commercial', p3_location: 'Riyadh', p3_desc: 'Jirah Cafe offers a unique hospitality experience in an atmosphere inspired by heritage with a modern touch.', p3_details: [ { label: 'Client', value: 'Jirah Cafe' }, { label: 'Scope', value: 'Design & Build' }, { label: 'Status', value: 'Completed' }, { label: 'Year', value: '2023' } ]
            }
        };

        // Shared Globals
        window.openModal = function(id) { document.getElementById(id).classList.remove('hidden'); document.body.style.overflow = 'hidden'; };
        window.closeModal = function(id) { document.getElementById(id).classList.add('hidden'); document.body.style.overflow = 'auto'; };
        window.toggleMenu = function() { const m=document.getElementById('mobile-menu'); m.classList.toggle('hidden'); m.classList.toggle('flex'); };
        window.submitCareerForm = function(e) { e.preventDefault(); const n=document.getElementById('career-name').value; window.location.href=`mailto:hr@truedraft.com.sa?subject=Job Application: ${n}`; };
        window.submitContactForm = function(e) { e.preventDefault(); const n=document.getElementById('contact-name').value; window.location.href=`mailto:info@truedraft.com.sa?subject=Contact: ${n}`; };
        window.toggleLanguage = toggleLanguage;

        function applyLanguage() {
            document.documentElement.lang = currentLang;
            document.documentElement.dir = currentLang === 'ar' ? 'rtl' : 'ltr';
            document.body.style.fontFamily = currentLang === 'ar' ? "'Cairo', sans-serif" : "'Manrope', sans-serif";
            const btnText = document.getElementById('lang-btn-text');
            if(btnText) btnText.textContent = currentLang === 'ar' ? 'EN' : 'عربي';
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if(translations[currentLang] && translations[currentLang][key]) el.textContent = translations[currentLang][key];
            });
            renderProjects();
            if (activeProject) {
                renderProjectDetails(activeProject);
            }
        }

        function toggleLanguage() {
            currentLang = currentLang === 'ar' ? 'en' : 'ar';
            localStorage.setItem('lang', currentLang);
            applyLanguage();
        }

        function renderProjects() {
            const grid = document.getElementById('projects-grid');
            if(!grid) return;
            const currentTranslations = translations[currentLang] || translations.ar;
            grid.innerHTML = projects.map(p => `
                <div class="group cursor-pointer relative" onclick="openProject(${p.id})">
                    <div class="overflow-hidden aspect-square bg-gray-100 shadow-md">
                        <img src="${p.cover}" alt="${currentTranslations[p.title_key]}" class="w-full h-full object-cover grayscale-img transition-all duration-500 transform group-hover:scale-110">
                    </div>
                    <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 flex flex-col justify-end p-6">
                        <h3 class="text-xl font-bold text-white">${currentTranslations[p.title_key]}</h3>
                        <p class="text-white/80 text-sm">${currentTranslations[p.category_key]}</p>
                    </div>
                </div>
            `).join('');
        }
        
        function renderProjectDetails(project) {
            if (!project) return;
            const currentTranslations = translations[currentLang] || translations.ar;
            document.getElementById('detail-cat').textContent = currentTranslations[project.category_key];
            document.getElementById('detail-title').textContent = currentTranslations[project.title_key];
            document.getElementById('detail-desc').textContent = currentTranslations[project.desc_key];
            
            const factsContainer = document.getElementById('detail-facts');
            const projectDetails = currentTranslations[project.details_key] || [];
            factsContainer.innerHTML = projectDetails.map(fact => `
                <div>
                    <span class="block text-sm text-gray-500 font-bold">${fact.label}</span>
                    <p class="font-bold text-black text-lg mt-2">${fact.value}</p>
                </div>
            `).join('');
        }

        function openProject(id) {
            activeProject = projects.find(p => p.id === id);
            if (!activeProject) return;
            galleryIndex = 0;

            renderProjectDetails(activeProject);

            const thumbsContainer = document.getElementById('gallery-thumbs');
            thumbsContainer.innerHTML = activeProject.images.map((imgSrc, index) => `
                <img src="${imgSrc}" onclick="openGalleryImage(${index})" class="h-full aspect-[4/3] object-cover cursor-pointer opacity-60 hover:opacity-100 transition">
            `).join('');

            document.getElementById('project-detail-view').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
            updateGallery();
        }

        function closeProjectDetail() {
            document.getElementById('project-detail-view').classList.add('hidden');
            document.body.style.overflow = 'auto';
            activeProject = null;
        }

        function updateGallery() {
            if (!activeProject) return;
            const imageWrapper = document.getElementById('gallery-image-wrapper');
            imageWrapper.innerHTML = `<img src="${activeProject.images[galleryIndex]}" class="w-full h-full object-cover animate-fade-in" alt="Gallery image ${galleryIndex + 1}">`;

            const thumbs = document.querySelectorAll('#gallery-thumbs img');
            thumbs.forEach((thumb, index) => {
                thumb.classList.toggle('active', index === galleryIndex);
            });
        }
        
        window.openGalleryImage = function(index) {
            galleryIndex = index;
            updateGallery();
        }

        window.nextGallery = function() {
            if (!activeProject) return;
            galleryIndex = (galleryIndex + 1) % activeProject.images.length;
            updateGallery();
        }

        window.prevGallery = function() {
            if (!activeProject) return;
            galleryIndex = (galleryIndex - 1 + activeProject.images.length) % activeProject.images.length;
            updateGallery();
        }

        document.addEventListener('DOMContentLoaded', () => {
            applyLanguage();
        });
    </script>
</body>
</html>
